<script type="text/javascript">
RED.nodes.registerType( 'hash', {
  category: 'function',
  color: '#a6bbcf',
  defaults: {
    name: { value: '' },
    outputvar: { value: 'hash' },
    algorithm: { value: 'sha512' }
  },
  inputs: 1,
  outputs: 1,
  icon: 'file.png',
  label: function(){
    return this.name || 'hash';
  }
});
</script>

<script type="text/x-red" data-template-name="hash">
<div class="form-row">
  <label for="node-input-name"><i class="icon-tag"></i> Name</label>
  <input type="text" id="node-input-name" placeholder="Name" />
  <br/>
  <label for="node-input-outputvar"><i class="icon-tag"></i> Output</label>
  <select id="node-input-outputvar">
  <option value="hash" selected>msg.hash</option>
  <option value="payload">msg.payload</option>
  </select>
  <br/>
  <label for="node-input-algorithm"><i class="icon-tag"></i> Algorithm</label>
  <select id="node-input-algorithm">
  <option value="md1">MD1</option>
  <option value="md2">MD2</option>
  <option value="md5">MD5</option>
  <option value="sha1">SHA1</option>
  <option value="sha256">SHA256</option>
  <option value="sha512" selected>SHA512</option>
  </select>
  <br/>
  <input type="checkbox" id="node-input-outPay" selected  />
    <label for="node-input-outPay">Output the hash in msg.payload (as opposed to msg.hash)</label>
</div>
</script>

<script type="text/x-red" data-help-name="hash">
  <p>A simple node that calculate hashed value with specified algorithm for payload.</p>
  <p><table border="1">
  <tr><td>Input</td><td>msg.payload</td><td>value which is to be hashed.</td></tr>
  <tr><td>Output</td><td>msg.payload (by default)</td><td>hashed value.</td></tr>
  <tr><td>Output</td><td>msg.hash</td><td>hashed value.</td></tr>
  </table></p>
</script>


